{"version":3,"sources":["webpack:///./src/components/NavigateBar.vue?33cf","webpack:///src/components/NavigateBar.vue","webpack:///./src/components/NavigateBar.vue?488a","webpack:///./src/components/NavigateBar.vue","webpack:///./src/components/Listbar.vue?8fa2","webpack:///src/components/Listbar.vue","webpack:///./src/components/Listbar.vue?c4f4","webpack:///./src/components/Listbar.vue","webpack:///./src/components/Listbar.vue?fb80","webpack:///./src/components/NavigateBar.vue?84bb","webpack:///./src/views/Editprofile.vue?6aac","webpack:///src/views/Editprofile.vue","webpack:///./src/views/Editprofile.vue?5233","webpack:///./src/views/Editprofile.vue","webpack:///./src/views/Editprofile.vue?b715"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","$router","back","_v","_s","title","push","staticStyle","staticRenderFns","props","component","attrs","path","label","tips","$axios","defaults","baseURL","userInfo","head_img","afterRead","nickname","nativeOn","show","handChangNickname","model","value","callback","$$v","expression","showpassword","handChangpassword","password","gender","showgender","actions","onSelect","components","NavigateBar","Listbar","data","userJson","mounted","url","user","id","headers","Authorization","token","console","log","res","methods","file","fd","append","method","handleEdit","Nickname","then"],"mappings":"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","file":"js/chunk-729f928a.8c3806d4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"navigate-bar\"},[_c('span',{staticClass:\"iconfont iconjiantou2\",on:{\"click\":function($event){return _vm.$router.back()}}}),_c('strong',[_vm._v(_vm._s(_vm.title))]),(_vm.showHome)?_c('span',{staticClass:\"iconfont iconshouye\",on:{\"click\":function($event){return _vm.$router.push('./')}}}):_c('span',{staticClass:\"iconfont iconshouye\",staticStyle:{\"opacity\":\"0\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"navigate-bar\">\r\n    <!-- $router.back()是实例下的属性，可以直接在模板中渲染 -->\r\n    <span class=\"iconfont iconjiantou2\" @click=\"$router.back()\"></span>\r\n    <strong>{{title}}</strong>\r\n    <!-- $router.push()是实例下的属性，可以直接在模板中渲染 -->\r\n    <span class=\"iconfont iconshouye\" @click=\"$router.push('./')\" v-if=\"showHome\"></span>\r\n    <span v-else class=\"iconfont iconshouye\" style=\"opacity:0\"></span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"title\", \"showHome\"]\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.navigate-bar {\r\n  line-height: 48px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0 20px;\r\n  border-bottom: 1px #eee solid;\r\n  .iconshouye {\r\n    font-size: 20px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigateBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigateBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavigateBar.vue?vue&type=template&id=54257c89&scoped=true&\"\nimport script from \"./NavigateBar.vue?vue&type=script&lang=js&\"\nexport * from \"./NavigateBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavigateBar.vue?vue&type=style&index=0&id=54257c89&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54257c89\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"listbar\"},[_c('router-link',{attrs:{\"to\":_vm.path || '#'}},[_c('div',[_vm._v(_vm._s(_vm.label))]),_c('div',{staticClass:\"tips\"},[_vm._v(\" \"+_vm._s(_vm.tips)+\" \"),_c('span',{staticClass:\"iconfont iconjiantou1\"})])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","  \r\n<template>\r\n  <!-- 列表按钮栏 -->\r\n  <div class=\"listbar\">\r\n    <router-link :to=\"path || '#' \">\r\n      <div>{{label}}</div>\r\n      <div class=\"tips\">\r\n        {{tips}}\r\n        <span class=\"iconfont iconjiantou1\"></span>\r\n      </div>\r\n    </router-link>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  //声明组件可以接收的属性，label表示左边的文字，tips表示右边的文字\r\n  props: [\"label\", \"tips\", \"path\"]\r\n};\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n.listbar {\r\n  padding-left: 20px;\r\n  height: 48px;\r\n  line-height: 48px;\r\n\r\n  a {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    border-bottom: 1px #eee solid;\r\n    align-items: center;\r\n    padding-right: 20px;\r\n  }\r\n  .tips {\r\n    color: #999;\r\n    span {\r\n      margin-left: 5px;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Listbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Listbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Listbar.vue?vue&type=template&id=54855f12&scoped=true&\"\nimport script from \"./Listbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Listbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Listbar.vue?vue&type=style&index=0&id=54855f12&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54855f12\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Listbar.vue?vue&type=style&index=0&id=54855f12&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Listbar.vue?vue&type=style&index=0&id=54855f12&lang=less&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigateBar.vue?vue&type=style&index=0&id=54257c89&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigateBar.vue?vue&type=style&index=0&id=54257c89&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"w\"},[_c('NavigateBar',{attrs:{\"title\":\"编辑资料\",\"showHome\":\"\"}}),_c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":_vm.$axios.defaults.baseURL + _vm.userInfo.head_img}}),_c('van-uploader',{staticClass:\"uploader\",attrs:{\"after-read\":_vm.afterRead}})],1),_c('Listbar',{attrs:{\"label\":\"昵称\",\"tips\":_vm.userInfo.nickname},nativeOn:{\"click\":function($event){_vm.show=true}}}),_c('van-dialog',{attrs:{\"title\":\"修改昵称\",\"show-cancel-button\":\"\"},on:{\"confirm\":_vm.handChangNickname},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-field',{attrs:{\"placeholder\":\"请输入用户名\"},model:{value:(_vm.nickname),callback:function ($$v) {_vm.nickname=$$v},expression:\"nickname\"}})],1),_c('Listbar',{attrs:{\"label\":\"密码\",\"tips\":\"******\"},nativeOn:{\"click\":function($event){_vm.showpassword=true}}}),_c('van-dialog',{attrs:{\"title\":\"修改密码\",\"show-cancel-button\":\"\"},on:{\"confirm\":_vm.handChangpassword},model:{value:(_vm.showpassword),callback:function ($$v) {_vm.showpassword=$$v},expression:\"showpassword\"}},[_c('van-field',{attrs:{\"placeholder\":\"请输入密码\",\"type\":\"password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('Listbar',{attrs:{\"label\":\"性别\",\"tips\":_vm.userInfo.gender==1?'男':'女'},nativeOn:{\"click\":function($event){_vm.showgender=true}}}),_c('van-action-sheet',{attrs:{\"actions\":_vm.actions,\"close-on-click-action\":\"\"},on:{\"select\":_vm.onSelect},model:{value:(_vm.showgender),callback:function ($$v) {_vm.showgender=$$v},expression:\"showgender\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"w\">\r\n    <!-- 头部导航组件 -->\r\n    <NavigateBar title=\"编辑资料\" showHome />\r\n\r\n    <!-- 头像 -->\r\n    <div class=\"avatar\">\r\n      <img :src=\"$axios.defaults.baseURL + userInfo.head_img\" />\r\n\r\n      <!-- 添加上传图片的组件 -->\r\n      <van-uploader class=\"uploader\" :after-read=\"afterRead\" />\r\n    </div>\r\n\r\n    <!-- 按钮列表 -->\r\n    <!-- show = true相当于this.show = true -->\r\n    <Listbar label=\"昵称\" :tips=\"userInfo.nickname\" @click.native=\"show=true\" />\r\n\r\n    <!-- 编辑昵称的弹窗 -->\r\n    <!-- v-model: value和input/change两种数据的集合，\r\n        这里的v-model作用只要控制弹窗的显示和隐藏\r\n        @confirm点击确定按钮时候的事件\r\n    -->\r\n    <van-dialog v-model=\"show\" title=\"修改昵称\" show-cancel-button @confirm=\"handChangNickname\">\r\n      <van-field v-model=\"nickname\" placeholder=\"请输入用户名\" />\r\n    </van-dialog>\r\n\r\n    <!-- 编辑密码的按钮 -->\r\n    <Listbar label=\"密码\" tips=\"******\" @click.native=\"showpassword=true\" />\r\n\r\n    <!-- 编辑密码的弹窗 -->\r\n    <van-dialog v-model=\"showpassword\" title=\"修改密码\" show-cancel-button @confirm=\"handChangpassword\">\r\n      <van-field v-model=\"password\" placeholder=\"请输入密码\" type=\"password\" />\r\n    </van-dialog>\r\n\r\n    <!-- 编辑性别的按钮 -->\r\n    <Listbar label=\"性别\" :tips=\"userInfo.gender==1?'男':'女'\" @click.native=\"showgender=true\" />\r\n    <!-- <Listbar label=\"性别\" :tips=\"['女','男'][userInfo.gender]\" @click.native=\"showgender=true\" /> -->\r\n\r\n    <!-- 编辑性别的弹窗 -->\r\n    <!-- close-on-click-action 自动关闭弹窗\r\n        actions 弹窗菜单的选项\r\n    select 选中某一项时候的事件-->\r\n    <van-action-sheet\r\n      v-model=\"showgender\"\r\n      :actions=\"actions\"\r\n      @select=\"onSelect\"\r\n      close-on-click-action\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 头部导航组件\r\nimport NavigateBar from \"@/components/NavigateBar\";\r\n// 导入列表按钮栏的组件\r\nimport Listbar from \"@/components/Listbar\";\r\nexport default {\r\n  components: {\r\n    NavigateBar,\r\n    Listbar\r\n  },\r\n  data() {\r\n    return {\r\n      // 用户详情\r\n      userInfo: {},\r\n      // 本地的用户数据\r\n      userJson: {},\r\n      // 单独记录弹窗输入框昵称\r\n      nickname: \"\",\r\n      // 单独记录弹窗输入框密码\r\n      password: \"\",\r\n      // 是否显示编辑昵称的弹窗\r\n      show: false,\r\n      // 是否显示编辑密码的弹窗\r\n      showpassword: false,\r\n      // 是否显示编辑性别的弹窗\r\n      showgender: false,\r\n      // 性别弹窗的选项\r\n      actions: [\r\n        // 对象的数据可以随意增加修改的，比如添加value属性用来传递给接口1/0\r\n        { name: \"男\", value: 1 },\r\n        { name: \"女\", value: 0 }\r\n      ]\r\n    };\r\n  },\r\n  mounted() {\r\n    // 从本地获取token和id 只要能进入这个页面就表示肯定已经登陆\r\n    const userJson = JSON.parse(localStorage.getItem(\"userInfo\"));\r\n    // 把字符串转成对象,userJson就是用户的信息对象\r\n    this.userJson = userJson;\r\n    // 发起异步的请求\r\n    //不设置请求类型默认是get请求\r\n    this.$axios({\r\n      url: \"/user/\" + userJson.user.id,\r\n      // 添加头信息\r\n      headers: {\r\n        //Authorization请求参数\r\n        Authorization: userJson.token\r\n      }\r\n    }).then(res => {\r\n      console.log(res);\r\n      // 解构出用户的数据\r\n      const { data } = res.data;\r\n      // 赋值给data的userInfo\r\n      this.userInfo = data;\r\n      // 单独保存nickname给编辑的弹窗使用\r\n      this.nickname = data.nickname;\r\n    });\r\n  },\r\n  methods: {\r\n    // 图片上传的方法，file是对文件对象（认为它是不可读的）\r\n    afterRead(file) {\r\n      // 创建一个表单对象，上传图片资源必须是表单类型,不能用json\r\n      // 大家不用去纠结json还是表单的头信息，axios会自动设置的\r\n      console.log(file);\r\n      console.log(file.file);\r\n      const fd = new FormData();\r\n      // 通过原有的方法append给表单添加元素\r\n      // 第一个字符串的file表示接口接收的属性，第二个 file.file是文件对象\r\n      fd.append(\"file\", file.file);\r\n      this.$axios({\r\n        url: \"/upload\",\r\n        // post请求\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: this.userJson.token\r\n        },\r\n        data: fd\r\n      }).then(res => {\r\n        // url就是图片的路径\r\n        const { url } = res.data.data;\r\n        // 替换掉当前的头像路径\r\n        this.userInfo.head_img = url;\r\n        // 图片上传成功之后调用编辑用户信息的方法\r\n        this.handleEdit({ head_img: url });\r\n      });\r\n    },\r\n    // 编辑用户信息的函数,可以修改头像，昵称。。。\r\n    // data就是请求的参数\r\n    handleEdit(data) {\r\n      return this.$axios({\r\n        url: \"/user_update/\" + this.userInfo.id,\r\n        method: \"POST\",\r\n        // 添加头信息\r\n        headers: {\r\n          //Authorization请求参数\r\n          Authorization: this.userJson.token\r\n        },\r\n        data\r\n      }).then(res => {\r\n        this.$toast.success(\"修改成功\");\r\n      });\r\n    },\r\n    // 修改昵称的事件\r\n    handChangNickname() {\r\n      // 调用编辑用户信息的函数\r\n      const Nickname = this.handleEdit({ nickname: this.nickname });\r\n      // 同步的修改当前显示的数据\r\n      Nickname.then(() => {\r\n        this.userInfo.nickname = this.nickname;\r\n        console.log(this.nickname);\r\n      });\r\n    },\r\n    // 修改密码的事件\r\n    handChangpassword() {\r\n      // 调用编辑用户信息的函数\r\n      this.handleEdit({ password: this.password });\r\n    },\r\n    // 选中性别的时候触发的事件，item是选择的当前项\r\n    onSelect(item) {\r\n      // 调用编辑用户信息的函数\r\n      const gender = this.handleEdit({ gender: item.value });\r\n      gender.then(() => {\r\n        // 同步的修改当前显示的数据\r\n        this.userInfo.gender = item.value;\r\n      });\r\n\r\n      //隐藏弹出框\r\n      // this.showgender = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.w {\r\n  margin: 0 auto;\r\n  width: 360px;\r\n  // padding-left: 20px;\r\n  box-sizing: border-box;\r\n  background-color: #f2f2f2;\r\n  height: 680px;\r\n  font-size: 16px;\r\n  .avatar {\r\n    display: flex;\r\n    // padding: 20px;\r\n    justify-content: center;\r\n    align-items: center;\r\n    position: relative;\r\n    img {\r\n      width: 100px;\r\n      height: 100px;\r\n      border-radius: 50%;\r\n    }\r\n    .uploader {\r\n      position: absolute;\r\n      width: 100px;\r\n      height: 100px;\r\n      left: 50%;\r\n      top: 50%;\r\n      transform: translateX(-50px) translateY(-50px);\r\n      opacity: 0;\r\n    }\r\n  }\r\n\r\n  img {\r\n    text-align: center;\r\n    margin: 40px auto;\r\n    display: block;\r\n    width: 100px;\r\n    height: 100px;\r\n  }\r\n  .listbar {\r\n    height: 50px;\r\n    // border-bottom: 1px solid #e4e4e4;\r\n    line-height: 50px;\r\n\r\n    .nickname {\r\n      float: left;\r\n    }\r\n    .tips {\r\n      float: right;\r\n      color: #a1a1a1;\r\n      span {\r\n        margin-left: 10px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editprofile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editprofile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Editprofile.vue?vue&type=template&id=47a05492&scoped=true&\"\nimport script from \"./Editprofile.vue?vue&type=script&lang=js&\"\nexport * from \"./Editprofile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Editprofile.vue?vue&type=style&index=0&id=47a05492&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47a05492\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editprofile.vue?vue&type=style&index=0&id=47a05492&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editprofile.vue?vue&type=style&index=0&id=47a05492&lang=less&scoped=true&\""],"sourceRoot":""}